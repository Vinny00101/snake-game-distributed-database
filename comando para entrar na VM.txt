comando para entrar na VM:

multipass shell <name-vm>

Caso n√£o saber o nome da VM, use o seguinte comando:

multipass list

Caso precisar realizar stop na VM ou inicial use os comandos abaixo:

multipass stop <name-vm>
multipass stop --all

multipass start <name-vm>
multipass start --all


manager -> IPV4: 172.24.95.101


token gerado pelo:

docker swarn init --advertise-addr <IPV4>

docker swarm join --token SWMTKN-1-17ntxathccfx9agzctrz5plbedshfpqk26iozqapx83i20irft-dgwxmo2icfp344dcqhhxp6334 172.24.95.101:2377


Verificar na manager se todas as outras VMs estao no docker da manager interligadas:

docker node ls

ex com minha pasta:

Compartilhamento de pasta do projeto:multipass mount C:\Users\Vinicius\Documents\dev\trabalho_docker_SO_2025-11-26 manager:/home/ubuntu/project

Compartilhamento de pasta do projeto:multipass mount <aqui deve ficar o diretorio> manager:/home/ubuntu/project

Comando para deploy nas VMs:
obs: o deploy deve ser feito na VM manager

docker stack deploy -c docker-compose.yml meu_mongo


Comando para buscar os service no docker

docker service ps meu_mongo_mongo1
docker service ps meu_mongo_mongo2
docker service ps meu_mongo_mongo3

Para rodar o banco na maquina precisa configurar as host das VMs em C:\Windows\System32\drivers\etc
deve abrir o bloco de notas como admistrador e adiconar as host com IP de cada maquina virtual

# Mapeamentos para o cluster MongoDB no Multipass
<IP_MANAGER>   mongo3
<IP_WORKER1>   mongo1
<IP_WORKER2>   mongo2